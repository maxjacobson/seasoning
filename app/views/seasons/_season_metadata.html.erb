<%# locals: (season:) %>

<% if season.orphaned? %>
  <div class="mt-8 pt-8 border-t border-gray-200">
    <h2 class="text-lg font-medium text-gray-900 mb-4">Season info</h2>

    <ul class="space-y-2 text-sm text-gray-600">
      <li
        class="
          text-yellow-700 bg-yellow-50 border border-yellow-200 rounded px-2
          py-1
        "
      >
        This season is orphaned (no longer in TMDB data)
      </li>
    </ul>

    <% if current_human&.admin? %>
      <div class="mt-4">
        <% if season.season_reviews.any? %>
          <%= button_to "Delete season",
            season_path(season.show.slug, season.slug),
            method: :delete,
            class: "rounded-button",
            disabled: true,
            title: "Cannot delete a season that has reviews" %>
        <% else %>
          <%= button_to "Delete season",
            season_path(season.show.slug, season.slug),
            method: :delete,
            class: "rounded-button",
            data: { turbo_confirm: "Are you sure you want to delete this season? This will also delete all episode data and watch history for this season." } %>
        <% end %>
      </div>
    <% end %>
  </div>
<% end %>
