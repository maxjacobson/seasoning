<%# locals: (activity_reviews:) %>
<div class="bg-white rounded-lg shadow-md p-4" data-test-id="activity-feed">
  <h2 class="text-xl font-semibold text-gray-900 mb-4">Activity</h2>

  <% if activity_reviews.any? %>
    <div class="space-y-4">
      <% activity_reviews.each do |review| %>
        <div class="flex gap-3 items-start">
          <div class="flex-shrink-0">
            <%= link_to proper_review_path(review) do %>
              <%= render "poster", url: review.season.poster.url, size: "extra-small", show: review.season.show %>
            <% end %>
          </div>

          <div class="flex-1 text-sm">
            <%= link_to review.author.handle, human_profile_path(review.author.handle), class: "font-medium text-gray-900 hover:underline" %>
            reviewed
            <%= link_to review.season.name, season_path(review.season.show.slug, review.season.slug), class: "text-gray-900 hover:underline" %>
            of
            <%= link_to review.season.show.title, show_path(review.season.show.slug), class: "text-gray-900 hover:underline" %>
            
            <span class="text-gray-500"><%= time_ago_in_words(review.created_at) %> ago</span>
          </div>
        </div>
      <% end %>
    </div>
  <% else %>
    <p class="text-gray-600 text-sm">
      No recent activity from people you follow.
    </p>
  <% end %>
</div>
