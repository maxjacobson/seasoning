<%= content_for :title do %>
  <%= current_human.uses_password? ? "Change password" : "Set password" %>
<% end %>

<div class="bg-white rounded-lg shadow-md p-6 max-w-4xl mx-auto">
  <h1 class="text-2xl font-bold text-gray-900 mb-6">
    <%= current_human.uses_password? ? "Change password" : "Set password" %>
  </h1>

  <%= form_with model: current_human, url: password_path, method: :patch, class: "space-y-4" do |f| %>
    <% if current_human.errors.any? %>
      <div class="mb-4">
        <% current_human.errors.full_messages.each do |error| %>
          <div class="text-red-600"><%= error %></div>
        <% end %>
      </div>
    <% end %>

    <div>
      <%= f.label :password, "New password", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.password_field :password, class: "text-field", autocomplete: "new-password" %>

      <p class="text-sm text-gray-600 mt-1">Minimum 12 characters</p>
    </div>

    <div>
      <%= f.label :password_confirmation, "Confirm new password", class: "block text-sm font-medium text-gray-700 mb-2" %>
      <%= f.password_field :password_confirmation, class: "text-field", autocomplete: "new-password" %>
    </div>

    <div class="flex items-center gap-4">
      <%= f.submit "Save password", class: "rounded-button" %>
      <%= link_to "Cancel", settings_path, class: "text-gray-600 hover:text-gray-800" %>
    </div>
  <% end %>
</div>
