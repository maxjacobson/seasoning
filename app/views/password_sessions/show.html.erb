<h1 class="text-2xl mb-6">Sign in</h1>

<div class="grid md:grid-cols-2 gap-8">
  <div data-test-id="password-section">
    <h2 class="text-xl mb-4">With password</h2>

    <%= form_with url: login_path, method: :post do |f| %>
      <div class="mb-4">
        <%= f.label :email, "Email", class: "block mb-2" %>
        <%= f.text_field :email, value: params[:email], placeholder: "email", class: "text-field", autocomplete: "email" %>
      </div>

      <div class="mb-4">
        <%= f.label :password, "Password", class: "block mb-2" %>
        <%= f.password_field :password, placeholder: "password", class: "text-field", autocomplete: "current-password" %>
      </div>

      <div class="flex items-center gap-4">
        <%= f.submit "Sign in", class: "rounded-button" %>
      </div>
    <% end %>
  </div>

  <div data-test-id="magic-link-section">
    <h2 class="text-xl mb-4">With magic link</h2>

    <p class="text-sm text-gray-600 mb-4">
      We&rsquo;ll send you an email with a link to sign in.
    </p>

    <%= form_with model: @magic_link, url: magic_links_path do |f| %>
      <% if @magic_link.errors.any? %>
        <div class="mb-4">
          <% @magic_link.errors.full_messages.each do |error| %>
            <div class="text-red-600"><%= error %></div>
          <% end %>
        </div>
      <% end %>

      <div class="mb-4">
        <%= f.label :email, "Email", class: "block mb-2" %>
        <%= f.text_field :email, placeholder: "email", class: "text-field", autocomplete: "email" %>
      </div>

      <div class="flex items-center gap-4">
        <%= f.submit "Send magic link", class: "rounded-button" %>
      </div>
    <% end %>
  </div>
</div>

<div class="mt-6">
  <p class="text-sm text-gray-600">
    Don't have an account?
    <%= link_to "Sign up", signup_path, class: "text-orange-500 hover:text-orange-600" %>
  </p>
</div>
